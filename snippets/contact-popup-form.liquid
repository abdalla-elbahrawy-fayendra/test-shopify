{{ 'section-contact-form.css' | asset_url | stylesheet_tag }}
<!--
  <modal-opener
    class="custom-popup-modal__opener"
    data-modal="#PopupModal-contact_email"
  >
    <button
      id="customPopup-contact_email"
      class="icon-button custom-popup-modal__button"
      type="button"
      aria-haspopup="dialog"
    >
      Contact
    </button>
  </modal-opener>
-->
<!-- The Modal -->
<modal-dialog id="PopupModal-contact_email" class="custom-popup-modal small-modal contact-form-email">
  <div
    role="dialog"
    aria-label="Drop a hint"
    aria-modal="true"
    class="custom-popup-modal__content"
    tabindex="-1"
  >
    <button
      id="ModalClose-email"
      type="button"
      class="custom-popup-modal__toggle"
      aria-label="{{ 'accessibility.close' | t }}"
    >
      <img class="animated-icon" src="{{ 'close.gif' | asset_url }}" alt="close">
    </button>
    <div class="custom-popup-modal__content-info">
      <h2 class="h2">{{ 'templates.contact.form.heading' | t }}</h2>
      {%- form 'contact', id: 'ContactForm', class: contact_form_class -%}
        {%- if form.posted_successfully? -%}
          <h2 class="form-status form-status-list form__message" tabindex="-1" autofocus>
            {{- 'icon-success.svg' | inline_asset_content -}}
            {{ 'templates.contact.form.post_success' | t }}
          </h2>
        {%- elsif form.errors -%}
          <div class="form__message">
            <h2 class="form-status caption-large text-body" role="alert" tabindex="-1" autofocus>
              {{- 'icon-error.svg' | inline_asset_content -}}
              {{ 'templates.contact.form.error_heading' | t }}
            </h2>
          </div>
          <ul class="form-status-list caption-large" role="list">
            <li>
              <a href="#ContactForm-email" class="link">
                {{ form.errors.translated_fields.email | capitalize }}
                {{ form.errors.messages.email }}
              </a>
            </li>
          </ul>
        {%- endif -%}
        <div class="contact__fields">
          <div class="field">
            <label class="field__label" for="ContactForm-name">
              {{- 'recipient.form.name' | t -}}
              <span aria-hidden="true">*</span></label
            >
            <input
              class="field__input"
              autocomplete="name"
              type="text"
              id="ContactForm-name"
              name="contact[{{ 'templates.contact.form.name' | t }}]"
              value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
              placeholder="{{ 'templates.contact.form.name' | t }}"
            >
          </div>
          <div class="field field--with-error">
            <label class="field__label" for="ContactForm-email">
              {{- 'customer.register.email' | t }}
              <span aria-hidden="true">*</span></label
            >
            <input
              autocomplete="email"
              type="email"
              id="ContactForm-email"
              class="field__input"
              name="contact[email]"
              spellcheck="false"
              autocapitalize="off"
              value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
              aria-required="true"
              {% if form.errors contains 'email' %}
                aria-invalid="true"
                aria-describedby="ContactForm-email-error"
              {% endif %}
              placeholder="{{ 'templates.contact.form.email' | t }}"
            >
          </div>
        </div>
        <div class="field">
          <label class="field__label" for="ContactForm-phone">
            {{- 'customer.addresses.phone' | t -}}
            <span aria-hidden="true">*</span></label
          >
          <input
            type="tel"
            id="ContactForm-phone"
            class="field__input"
            autocomplete="tel"
            name="contact[{{ 'templates.contact.form.phone' | t }}]"
            pattern="[0-9\-]*"
            value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
            placeholder="{{ 'templates.contact.form.phone' | t }}"
          >
        </div>
        <div class="field full-width">
          <label class="form__label field__label" for="ContactForm-body">
            {{- 'templates.contact.form.comment' | t -}}
          </label>
          <textarea
            rows="10"
            id="ContactForm-body"
            class="text-area field__input"
            name="contact[{{ 'templates.contact.form.comment' | t }}]"
            placeholder="{{ 'templates.contact.form.comment' | t }}"
          >
          {{- form.body -}}
        </textarea>
        </div>
        <div class="contact-text-info">
          <p>
            {{ 'templates.contact.form.message' | t }}
          </p>
        </div>
        <div class="contact__button">
          <button type="submit" class="button button--secondary">
            {{ 'general.contact.send_email' | t }}
          </button>
        </div>
      {%- endform -%}
    </div>
  </div>
</modal-dialog>
